<div class="card">
	<div class="header">
		<h2 class="title">Orders List</h2>
	</div>
	<div class="content">
		<form #f="ngForm">

			<div class="form-group">
				<label for="orderType">Order Type:</label> <input
					[(ngModel)]="filter.orderType" id="orderType" name="orderType"
					class="form-control">
			</div>

			<div class="form-group">
				<label for="orderNumber">Order Number:</label> <input
					[(ngModel)]="filter.orderNumber" id="orderNumber"
					name="orderNumber" class="form-control">
			</div>

			<div class="form-group">
				<label for="name">Name:</label> <input [(ngModel)]="filter.name"
					id="name" name="name" class="form-control">
			</div>

			<div class="form-group">
				<label for="mobile">Mobile:</label> <input
					[(ngModel)]="filter.mobile" id="mobile" name="mobile"
					class="form-control">
			</div>

			<button (click)="search()" [disabled]="!f?.valid"
				class="btn btn-primary">Search</button>
			<a [routerLink]="['../orders', 'new' ]" class="btn btn-default">New</a>
		</form>
	</div>
</div>
<div class="card" *ngIf="orderList.length > 0">
	<div *ngIf="feedback" class="alert alert-{{feedback.type}}">{{
		feedback.message }}</div>
	<div class="table-responsive">
		<table class="table table-centered table-hover mb-0" id="datatable">
			<thead>
				<tr>
					<th class="border-top-0" scope="col">Id</th>
					<th class="border-top-0" scope="col">Order Type</th>
					<th class="border-top-0" scope="col">Order Date</th>
					<th class="border-top-0" scope="col">Delivery Date</th>
					<th class="border-top-0" scope="col">Order Number</th>
					<th class="border-top-0" scope="col">Name</th>
					<th class="border-top-0" scope="col">Mobile</th>
					<th class="border-top-0" scope="col">Item Names</th>
					<th class="border-top-0" scope="col">Item Counts</th>
					<th class="border-top-0" scope="col" style="width: 120px"></th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let item of orderList"
					[class.active]="item === selectedOrder">

					<td>{{item.id}}</td>
					<td>{{item.orderType}}</td>
					<td>{{item.orderDate}}</td>
					<td>{{item.deliveryDate}}</td>
					<td>{{item.orderNumber}}</td>
					<td>{{item.name}}</td>
					<td>{{item.mobile}}</td>
					<td>{{item.itemNames}}</td>
					<td>{{item.itemCounts}}</td>
					<td style="white-space: nowrap">
						<a [routerLink]="['../orders', item.id ]" class="btn btn-secondary">Edit</a>&nbsp;
						<button (click)="delete(item)" class="btn btn-danger">Delete</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
